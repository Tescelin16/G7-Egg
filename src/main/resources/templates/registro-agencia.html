<!DOCTYPE html>
<html lang="es" dir="ltr" xmlns: th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
        <title>Formulario Registro - Turismo</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">
        <link rel="stylesheet" th:href="@{/css/style.css}"/>
    </head>
    <body>
        <header th:replace="fragments :: header"></header>
        <nav th:replace="fragments :: navbar"></nav>

        <div class="container mt-5 main">
            <h1 th:text="${title}"></h1>
            <hr class="mb-5 col-xl-12"/>
            <form id="formulario" class="needs-validation" th:action="@{/agencia/__${action}__}" method="POST"
                  th:object="${agencia}" autocomplete="off" novalidate>
                <div class="form-floating mb-3 col-xl-6">
                    <input id="legajo" class="form-control" type="text" placeholder="Legajo" th:field="*{legajo}" required/>
                    <label for="legajo">Legajo</label>
                    <div class="invalid-feedback">El legajo es obligatorio</div>
                </div>
                <div class="form-floating mb-3 col-xl-6">
                    <input id="nombre" class="form-control" type="text" placeholder="Nombre" th:field="*{nombre}" required/>
                    <label for="nombre">Nombre</label>
                    <div class="invalid-feedback">El nombre es obligatorio</div>
                </div>
                <div class="form-floating mb-3 col-xl-6">
                    <input id="contraseña" class="form-control" type="password" placeholder="Contraseña" th:field="*{clave}" required/>
                    <label for="contraseña">Contraseña</label>
                    <div class="invalid-feedback">La contraseña es obligatorio</div>
                </div>
                <div class="form-floating mb-3 col-xl-6">
                    <input id="telefono" class="form-control" type="text" placeholder="Telefono" th:field="*{telefono}" required/>
                    <label for="telefono">Telefono</label>
                    <div class="invalid-feedback">El telefono es obligatorio</div>
                </div>
                <div class="form-floating mb-3 col-xl-6">
                    <input id="direccion" class="form-control" type="text" placeholder="Dirección" th:field="*{direccion}" required/>
                    <label for="direccion">Dirección</label>
                    <div class="invalid-feedback">La dirección es obligatorio</div>
                </div>
                <div class="form-floating mb-3 col-xl-6">
                    <input id="mail" class="form-control" type="text" placeholder="Email" th:field="*{email}" required/>
                    <label for="email">Email</label>
                    <div class="invalid-feedback">El email es obligatorio</div>
                </div>
                <div sec:authorize="hasRole('ADMIN')" class="form-floating mb-3 col-xl-6">
                    <select id="rol" class="form-select" aria-label="Elegir Rol" th:field="*{rol}">
                        <option value="a6a62d8b-755a-49c4-9798-79bd3013ead9" selected>Seleccione el Rol</option>
                        <option th:each="rol : ${roles}" th:text="${rol.nombre}"
                        th:value="${rol.idRol}"></option>
                    </select>
                </div>
                <div class="row">
                    <div class="col-xl-3">
                        <button class="btn btn-success" type="submit"
                                th:text="${action == 'guardar'} ? 'Crear usuario' : 'Guardar cambios'"></button>
                    </div>
                </div>
            </form>
        </div>
        <footer th:replace="fragments :: footer"></footer>
        <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://kit.fontawesome.com/5b85ec102f.js"
      crossorigin="anonymous"
    ></script>
    </body>
</html>